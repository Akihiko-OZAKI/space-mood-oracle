# ✅ 最終チェックリスト

## 📋 データベース作成前の確認

### ステップ1: 環境変数の設定

1. **`.env` ファイルを作成**
   - `_env.example` をコピーして `.env` にリネーム
   - または、新規作成

2. **`DATABASE_URL` を設定**
   ```
   DATABASE_URL=mysql://ユーザー名:パスワード@localhost:3306/space_mood_oracle
   ```
   
   **例:**
   - `DATABASE_URL=mysql://root:password@localhost:3306/space_mood_oracle`
   - `DATABASE_URL=mysql://user:pass123@localhost:3306/space_mood_oracle`

3. **接続情報を確認**
   - ✅ MySQLサーバーが起動している
   - ✅ ユーザー名・パスワードが正しい
   - ✅ ポート番号が正しい（通常は3306）

---

## 📋 データベース作成

### 方法A: SQLファイルで実行（推奨）⭐

1. **ファイルを開く**: `【今すぐ実行】DB作成.sql`
2. **全体をコピー**（Ctrl+A → Ctrl+C）
3. **データベース管理ツールで実行**:
   - phpMyAdmin: SQLタブ → ペースト → 実行
   - MySQL Workbench: クエリエディタ → ペースト → ⚡実行

### 方法B: コマンドラインで実行

```bash
mysql -u ユーザー名 -p < "【今すぐ実行】DB作成.sql"
```

---

## 📋 実行後の確認

### 1. データベースが作成されたか確認

```sql
SHOW DATABASES;
```

→ `space_mood_oracle` が表示されればOK ✅

### 2. テーブルが作成されたか確認

```sql
USE space_mood_oracle;
SHOW TABLES;
```

→ 以下の3つが表示されればOK ✅
- `google_trend_data`
- `twitter_trend_data`
- `daily_mood_judgment`

### 3. テーブル構造を確認（オプション）

```sql
DESCRIBE google_trend_data;
DESCRIBE twitter_trend_data;
DESCRIBE daily_mood_judgment;
```

---

## 📋 次のステップ

### 1. サーバー起動

```bash
pnpm dev
```

### 2. APIテスト

ブラウザの開発者ツール（F12）のConsoleで:

```javascript
fetch('/api/trpc/trends.getTodayMood')
  .then(r => r.json())
  .then(console.log)
  .catch(console.error);
```

---

## ✅ チェックリスト

### 実行前
- [ ] `.env` ファイルを作成した
- [ ] `DATABASE_URL` を設定した
- [ ] MySQLサーバーが起動している
- [ ] 接続情報（ユーザー名、パスワード）が正しい

### 実行後
- [ ] データベース `space_mood_oracle` が作成された
- [ ] 3つのテーブルが作成された
- [ ] `SHOW TABLES;` で確認した

---

## 🆘 トラブルシューティング

### "Access denied"

→ ユーザー名・パスワードが間違っている、または権限がない

### "Unknown database"

→ データベースが作成されていない → SQLファイルを実行

### "Table doesn't exist"

→ マイグレーションが未実行 → SQLファイルを実行

---

**準備が整ったら、`【今すぐ実行】DB作成.sql` を実行してください！** 🚀


